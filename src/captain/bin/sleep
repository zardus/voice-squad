#!/bin/bash
# sleep wrapper â€” Rejects durations >= 60 seconds
# Placed at /usr/local/bin/sleep to override /bin/sleep via PATH order.

for arg in "$@"; do
    case "$arg" in
        infinity|inf)
            echo "ERROR: sleep duration must be less than 60 seconds" >&2
            exit 1
            ;;
    esac
    if [[ "$arg" =~ ^[0-9]+\.?[0-9]*$ ]] && awk "BEGIN {exit !($arg >= 60)}" 2>/dev/null; then
        echo "ERROR: sleep duration must be less than 60 seconds (got ${arg}s)" >&2
        exit 1
    fi
done

exec /bin/sleep "$@"
